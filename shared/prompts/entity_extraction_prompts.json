{
  "version": "2.0.0",
  "entity_extraction": {
    "system_prompt": "You are an expert annotator for shrimp aquaculture scientific literature. Extract entities with high precision following domain-specific disambiguation rules.",
    "main_prompt": "Extract all domain-relevant entities from this sentence. Return ONLY valid JSON.\n\nAllowed entity types with disambiguation rules:\n- SPECIES: Organism names (shrimp species, bacteria)\n- PATHOGEN: Disease agents (Vibrio, viruses, parasites)\n- DISEASE: Clinical conditions/syndromes (AHPND, WSD, TPD)\n- CLINICAL_SYMPTOM: Observed abnormalities (white feces, lethargy, soft shell) - Use when described as observed signs\n- PHENOTYPIC_TRAIT: Measurable performance metrics (survival rate, growth rate, FCR) - Use when quantifiable\n- GENE: Genetic markers and genes (PvIGF, hemocyanin, TLR)\n- TREATMENT: Medications, probiotics, interventions\n- MEASUREMENT: Reified measurements with value+unit (28°C, 10 mg/kg, 85%)\n- LIFE_STAGE: Development stages (PL15, juvenile, broodstock)\n- MANAGEMENT_PRACTICE: Farming practices (biosecurity, water exchange)\n- ENVIRONMENTAL_PARAM: Water parameters (temperature, salinity, DO)\n- LOCATION: Geographic/facility locations (pond, hatchery, Thailand)\n- SAMPLE: Physical samples with IDs (S-001, water sample W123)\n- TEST_TYPE: Diagnostic methods (PCR, qPCR, histopathology)\n- TEST_RESULT: Test outcomes (WSSV positive, Ct=22)\n- EVENT: Timestamped occurrences (mortality event, outbreak)\n- TISSUE: Anatomical parts (hepatopancreas, gill, hemolymph)\n- PRODUCT: Commercial products (PL batch, frozen shrimp)\n- SUPPLY_ENTITY: Supply chain participants (hatchery, feed supplier)\n- PERSON: Individuals (farmer, technician, veterinarian)\n- ORGANIZATION: Companies/institutions (CP Foods, research institute)\n- PROTOCOL: SOPs (biosecurity protocol, treatment regimen)\n- CERTIFICATION: Quality certs (BAP, ASC, organic)\n\nDisambiguation rules:\n1. If trait described as abnormality → CLINICAL_SYMPTOM\n2. If trait has numeric value → PHENOTYPIC_TRAIT  \n3. If measurement has value+unit → MEASUREMENT\n4. If sample has ID → SAMPLE\n5. If test mentioned with result → TEST_RESULT\n\nSentence: \"{sentence}\"\n\nOutput format:\n{{\"entities\": [{{\"text\": \"...\", \"label\": \"...\", \"start\": int, \"end\": int, \"confidence\": 0.0-1.0, \"canonical\": \"standard_form\"}}]}}",
    "few_shot_examples": [
      {
        "sentence": "Vibrio parahaemolyticus causes AHPND in Penaeus vannamei post-larvae at 28°C.",
        "output": {
          "entities": [
            {"text": "Vibrio parahaemolyticus", "label": "PATHOGEN", "start": 0, "end": 23, "confidence": 0.95, "canonical": "Vibrio parahaemolyticus"},
            {"text": "AHPND", "label": "DISEASE", "start": 31, "end": 36, "confidence": 0.95, "canonical": "AHPND"},
            {"text": "Penaeus vannamei", "label": "SPECIES", "start": 40, "end": 56, "confidence": 0.95, "canonical": "Penaeus vannamei"},
            {"text": "post-larvae", "label": "LIFE_STAGE", "start": 57, "end": 68, "confidence": 0.90, "canonical": "post-larvae"},
            {"text": "28°C", "label": "MEASUREMENT", "start": 72, "end": 76, "confidence": 0.95, "canonical": "28°C"}
          ]
        }
      },
      {
        "sentence": "Treatment with florfenicol at 10 mg/kg improved survival rate in infected shrimp.",
        "output": {
          "entities": [
            {"text": "florfenicol", "label": "TREATMENT", "start": 15, "end": 26, "confidence": 0.95, "canonical": "florfenicol"},
            {"text": "10 mg/kg", "label": "MEASUREMENT", "start": 30, "end": 38, "confidence": 0.95, "canonical": "10 mg/kg"},
            {"text": "survival rate", "label": "PHENOTYPIC_TRAIT", "start": 48, "end": 61, "confidence": 0.90, "canonical": "survival rate"},
            {"text": "shrimp", "label": "SPECIES", "start": 74, "end": 80, "confidence": 0.85, "canonical": "Penaeus vannamei"}
          ]
        }
      },
      {
        "sentence": "The PvIGF gene was associated with growth rate and disease resistance in SPR lines.",
        "output": {
          "entities": [
            {"text": "PvIGF", "label": "GENE", "start": 4, "end": 9, "confidence": 0.95, "canonical": "PvIGF"},
            {"text": "growth rate", "label": "PHENOTYPIC_TRAIT", "start": 36, "end": 47, "confidence": 0.90, "canonical": "growth rate"},
            {"text": "disease resistance", "label": "PHENOTYPIC_TRAIT", "start": 52, "end": 70, "confidence": 0.90, "canonical": "disease resistance"},
            {"text": "SPR lines", "label": "SPECIES", "start": 74, "end": 83, "confidence": 0.85, "canonical": "SPR strain"}
          ]
        }
      },
      {
        "sentence": "Shrimp showed white feces and lethargy symptoms during the outbreak.",
        "output": {
          "entities": [
            {"text": "Shrimp", "label": "SPECIES", "start": 0, "end": 6, "confidence": 0.85, "canonical": "Penaeus vannamei"},
            {"text": "white feces", "label": "CLINICAL_SYMPTOM", "start": 14, "end": 25, "confidence": 0.95, "canonical": "white feces"},
            {"text": "lethargy", "label": "CLINICAL_SYMPTOM", "start": 30, "end": 38, "confidence": 0.90, "canonical": "lethargy"},
            {"text": "outbreak", "label": "EVENT", "start": 59, "end": 67, "confidence": 0.85, "canonical": "disease outbreak"}
          ]
        }
      },
      {
        "sentence": "Sample S-001 tested by PCR showed WSSV positive with Ct value 22.",
        "output": {
          "entities": [
            {"text": "Sample S-001", "label": "SAMPLE", "start": 0, "end": 12, "confidence": 0.95, "canonical": "S-001"},
            {"text": "PCR", "label": "TEST_TYPE", "start": 23, "end": 26, "confidence": 0.95, "canonical": "PCR"},
            {"text": "WSSV positive", "label": "TEST_RESULT", "start": 34, "end": 47, "confidence": 0.95, "canonical": "WSSV positive"},
            {"text": "Ct value 22", "label": "MEASUREMENT", "start": 53, "end": 64, "confidence": 0.90, "canonical": "Ct=22"}
          ]
        }
      },
      {
        "sentence": "CP Foods hatchery supplied PL15 batch to local farms following BAP certification.",
        "output": {
          "entities": [
            {"text": "CP Foods", "label": "SUPPLY_ENTITY", "start": 0, "end": 8, "confidence": 0.95, "canonical": "CP Foods"},
            {"text": "hatchery", "label": "LOCATION", "start": 9, "end": 17, "confidence": 0.90, "canonical": "hatchery"},
            {"text": "PL15 batch", "label": "PRODUCT", "start": 27, "end": 37, "confidence": 0.95, "canonical": "PL15 batch"},
            {"text": "farms", "label": "LOCATION", "start": 47, "end": 52, "confidence": 0.85, "canonical": "farm"},
            {"text": "BAP certification", "label": "CERTIFICATION", "start": 63, "end": 80, "confidence": 0.90, "canonical": "BAP"}
          ]
        }
      }
    ],
    "temperature": 0.1,
    "max_tokens": 600
  },
  
  "relation_extraction": {
    "system_prompt": "You are an expert at extracting relationships between entities in shrimp aquaculture text. Use precise predicates with domain-range constraints.",
    "main_prompt": "Given the sentence and identified entities, extract relationships using these predicates:\n\n**Core biological relations:**\n- infected_by: SPECIES → PATHOGEN (host infected by pathogen)\n- causes: [PATHOGEN|ENVIRONMENTAL_PARAM] → [DISEASE|CLINICAL_SYMPTOM] (causal relationship)\n- treated_with: [DISEASE|CLINICAL_SYMPTOM] → TREATMENT (treatment application)\n- confers_resistance_to: GENE → PATHOGEN (genetic resistance mechanism)\n- resistant_to: [SPECIES|PRODUCT] → [PATHOGEN|TREATMENT] (observed resistance)\n\n**Risk and protective factors:**\n- increases_risk_of: [ENVIRONMENTAL_PARAM|MANAGEMENT_PRACTICE] → [DISEASE|CLINICAL_SYMPTOM]\n- reduces_risk_of: [MANAGEMENT_PRACTICE|TREATMENT] → [DISEASE|CLINICAL_SYMPTOM]\n\n**Genetic and physiological:**\n- expressed_in: GENE → [TISSUE|LIFE_STAGE] (gene expression location/stage)\n- affects_trait: [GENE|ENVIRONMENTAL_PARAM|MANAGEMENT_PRACTICE] → PHENOTYPIC_TRAIT\n- has_variant: GENE → GENE (genetic variant relationship)\n\n**Sampling and testing:**\n- sample_taken_from: SAMPLE → [LOCATION|SPECIES|TISSUE] (sample source)\n- tested_with: SAMPLE → TEST_TYPE (test performed)\n- has_test_result: SAMPLE → TEST_RESULT (test outcome)\n- measurement_of: MEASUREMENT → [PHENOTYPIC_TRAIT|ENVIRONMENTAL_PARAM]\n\n**Operational:**\n- applied_at: [TREATMENT|MANAGEMENT_PRACTICE] → [LOCATION|EVENT] (application site/time)\n- located_in: * → LOCATION (spatial relationship)\n- supplied_by: [PRODUCT|TREATMENT] → [SUPPLY_ENTITY|ORGANIZATION]\n- sold_to: PRODUCT → [ORGANIZATION|PERSON]\n- uses_protocol: [EVENT|ORGANIZATION|PERSON] → PROTOCOL\n- certified_by: [PRODUCT|ORGANIZATION|LOCATION] → CERTIFICATION\n- part_of: [LOCATION|PRODUCT|SAMPLE] → [LOCATION|PRODUCT] (hierarchical grouping)\n\nSentence: \"{sentence}\"\nEntities: {entities}\n\nReturn ONLY valid JSON with evidence and polarity:\n{{\"relations\": [{{\"head\": entity_index, \"tail\": entity_index, \"label\": \"...\", \"evidence\": \"text supporting relation\", \"confidence\": 0.0-1.0, \"polarity\": \"positive|negative|speculative\"}}]}}",
    "few_shot_examples": [
      {
        "sentence": "Vibrio parahaemolyticus causes AHPND in Penaeus vannamei.",
        "entities": [
          {"index": 0, "text": "Vibrio parahaemolyticus", "label": "PATHOGEN"},
          {"index": 1, "text": "AHPND", "label": "DISEASE"},
          {"index": 2, "text": "Penaeus vannamei", "label": "SPECIES"}
        ],
        "output": {
          "relations": [
            {"head": 0, "tail": 1, "label": "causes", "evidence": "causes", "confidence": 0.95, "polarity": "positive"},
            {"head": 2, "tail": 0, "label": "infected_by", "evidence": "in", "confidence": 0.90, "polarity": "positive"}
          ]
        }
      },
      {
        "sentence": "High ammonia levels increase risk of gill damage in post-larvae.",
        "entities": [
          {"index": 0, "text": "High ammonia levels", "label": "ENVIRONMENTAL_PARAM"},
          {"index": 1, "text": "gill damage", "label": "CLINICAL_SYMPTOM"},
          {"index": 2, "text": "post-larvae", "label": "LIFE_STAGE"}
        ],
        "output": {
          "relations": [
            {"head": 0, "tail": 1, "label": "increases_risk_of", "evidence": "increase risk of", "confidence": 0.90, "polarity": "positive"}
          ]
        }
      },
      {
        "sentence": "Sample S-001 tested by PCR showed WSSV positive.",
        "entities": [
          {"index": 0, "text": "Sample S-001", "label": "SAMPLE"},
          {"index": 1, "text": "PCR", "label": "TEST_TYPE"},
          {"index": 2, "text": "WSSV positive", "label": "TEST_RESULT"}
        ],
        "output": {
          "relations": [
            {"head": 0, "tail": 1, "label": "tested_with", "evidence": "tested by", "confidence": 0.95, "polarity": "positive"},
            {"head": 0, "tail": 2, "label": "has_test_result", "evidence": "showed", "confidence": 0.95, "polarity": "positive"}
          ]
        }
      }
    ],
    "temperature": 0.1,
    "max_tokens": 600
  },
  
  "topic_suggestion": {
    "system_prompt": "You are an expert at classifying shrimp aquaculture text into research topics with enhanced keyword matching.",
    "main_prompt": "Classify this text into relevant topics from this list:\n- T_DISEASE: Disease & Pathology (disease, pathogen, mortality, syndrome, infection, outbreak, symptom, diagnosis)\n- T_TREATMENT: Treatment & Therapeutics (treatment, antibiotic, probiotic, therapy, medication, drug, efficacy)\n- T_GENETICS: Genetics & Breeding (gene, breeding, selection, heritability, QTL, SNP, genomics, trait)\n- T_MANAGEMENT: Farm Management (management, husbandry, stocking, harvest, production, farming, practice)\n- T_ENVIRONMENT: Environmental Parameters (water quality, temperature, salinity, oxygen, pH, ammonia, environment)\n- T_REPRODUCTION: Reproduction & Hatchery (spawning, larvae, maturation, broodstock, hatchery, nauplii, reproduction)\n- T_NUTRITION: Nutrition & Feed (feed, nutrition, protein, lipid, vitamin, FCR, diet, feeding)\n- T_BIOSECURITY: Biosecurity & Prevention (biosecurity, prevention, quarantine, disinfection, SPF, exclusion, control)\n- T_ECONOMICS: Economics & Markets (cost, price, market, profit, economics, trade, value, export)\n- T_DIAGNOSTICS: Diagnostics & Detection (PCR, diagnosis, detection, screening, test, assay, identification, monitoring)\n\nDocument title: \"{title}\"\nText: \"{text}\"\n\nReturn 1-3 most relevant topics with confidence scores and justification keywords.\n\nOutput format:\n{{\"topics\": [{{\"topic_id\": \"T_...\", \"score\": 0.0-1.0, \"keywords\": [\"keyword1\", \"keyword2\"]}}]}}",
    "temperature": 0.2,
    "max_tokens": 400
  }
}